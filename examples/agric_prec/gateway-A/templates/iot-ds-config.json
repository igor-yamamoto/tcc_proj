{
  "id" : "5a4354810e8e3d000797151a",
  "modified" : 1631667703,
  "name" : "tcc-test",
  "dataDefinition" : {
    "id" : "5a4354470e8e3d000797151c",
    "modified" : 1631667351,
    "name" : "demo-dd",
    "schema" : {
      "metadata" : {
        "type" : "json"
      },
      "type" : "object",
      "properties" : {
        "greetings" : {
          "type" : "string",
          "metadata" : {
            "position" : "greetings",
            "name" : "greetings property",
            "description" : ""
          }
        },
        "counter" : {
          "type" : "number",
          "metadata" : {
            "type" : "integer",
            "position" : "counter",
            "name" : "counter property",
            "description" : ""
          }
        },
        "timestamp" : {
          "type" : "number",
          "metadata" : {
            "format" : "milliseconds",
            "position" : "timestamp",
            "name" : "timestamp property",
            "description" : "",
            "type" : "timestamp"
          }
        }
      },
      "schemaKey" : "http://json-schema.org/draft-04/schema#"
    }
  },
  "timer" : {
    "type" : "interval",
    "metric" : "seconds",
    "value" : 1
  },
  "ticksNumber" : 0,
  "isReplayLooped" : false,
  "devices" : [ {
    "id" : "613fde8f6f5e5d000110a3be",
    "modified" : 1631667703,
    "name" : "device1",
    "targetSystems" : [ {
      "id" : "613fde7330ce68f52edf4360",
      "modified" : 0,
      "name" : "MQTT-local",
      "type" : "mqtt_broker",
      "topic" : "devices/device1"
    } ]
  } ],
  "deviceInjector" : {
    "rule" : "round_robin"
  },
  "generator" : {
    "type" : "schema_based",
    "schema" : {
      "metadata" : {
        "type" : "json"
      },
      "type" : "object",
      "properties" : {
        "greetings" : {
          "type" : "string",
          "metadata" : {
            "position" : "greetings",
            "name" : "greetings property",
            "description" : ""
          },
          "rule" : {
            "type" : "literal_string",
            "value" : "Hello there !!!"
          }
        },
        "counter" : {
          "type" : "number",
          "metadata" : {
            "type" : "integer",
            "position" : "counter",
            "name" : "counter property",
            "description" : ""
          },
          "rule" : {
            "type" : "custom_function",
            "function" : "\n/**\n * \n * Please, note the following information:\n * - to print information to docker console use \"print\" (console.log is not available)\n * - \"momentjs\" and \"lodash\" libraries are supported and available in global scope\n * \n * @param  {object} ruleState may be used to store information between iterations\n * @param  {object} sessionState may be used to store information between rules\n * @param  {string} deviceName device name\n * @return {integer} value that will be populated to specified property\n */\nfunction custom(ruleState, sessionState, deviceName) { \n    \n    if (!ruleState.counter) {\n        ruleState.counter = 1;\n    }\n    \n    return ruleState.counter++;\n}\n"
          }
        },
        "timestamp" : {
          "type" : "number",
          "metadata" : {
            "format" : "milliseconds",
            "position" : "timestamp",
            "name" : "timestamp property",
            "description" : "",
            "type" : "timestamp"
          },
          "rule" : {
            "type" : "current_time",
            "metric" : "milliseconds",
            "shift" : 0
          }
        }
      },
      "schemaKey" : "http://json-schema.org/draft-04/schema#"
    }
  },
  "targetSystem" : {
    "id" : "613fd4bbf630b0c3bf6de60b",
    "modified" : 1631667758,
    "name" : "mqtt-local",
    "type" : "mqtt_broker",
    "url" : "mosquitto:1883",
    "topic" : "test"
  },
  "replayLooped" : false
}